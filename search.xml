<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>数据库</title>
      <link href="/2018/03/11/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
      <content type="html"><![CDATA[<p>##数据库简介</p><ul><li>数据库出现原因：<ul><li>数据量增大带来的数据记录和查找问题</li><li>计算机的诞生</li></ul></li><li>数据库要结局的问题：<ul><li>持久化存储</li><li>优化读写</li><li>保证数据有效性</li></ul></li><li>数据可分类：<ul><li>文档型：SQLite</li><li>服务型：MySQL、Oracle<ul><li>组成：<ul><li>服务端</li><li>客户端<a id="more"></a></li></ul></li></ul></li></ul></li></ul><h2 id="E-R模型"><a href="#E-R模型" class="headerlink" title="E-R模型"></a>E-R模型</h2><ul><li>当前物理的数据库都是按照E-R模型进行设计的</li><li>E entry 实体</li><li>R relationship 关系</li><li>一个实体转换为数据库的表</li><li>关系描述两个实体之间的对应规则，包括：<ul><li>一对一</li><li>一对多</li><li>多对多</li></ul></li><li>关系转换为数据库表中的一个列 <em>关系数据库中一个列就表示一个对象</em></li></ul><h2 id="三范式"><a href="#三范式" class="headerlink" title="三范式"></a>三范式</h2><ul><li>范式：为了解决数据可使用中的问题，在数据库设计时的规范–范式</li><li>范式分类：<ul><li>第一范式 1NF：列不可拆分</li><li>第二范式 2NF：唯一标识</li><li>第三范式 3NF：引用主键</li></ul></li><li>后一个范式都是前一个范式的基础是建立的</li></ul><h2 id="数据库完整性"><a href="#数据库完整性" class="headerlink" title="数据库完整性"></a>数据库完整性</h2><ul><li>定义：</li><li>功能：</li></ul><h2 id="字段类型"><a href="#字段类型" class="headerlink" title="字段类型"></a>字段类型</h2><ul><li>数字：int、decimal</li><li>字符串：char、varchar、text</li><li>日期：datetime</li><li><p>布尔：boolean</p><pre><code>/** 小数 **/decimal(5,2)1.21000.21 /** char varchar的区别 **/char(8)     // 长度不变，后面空格varchar(8)  // 长度可变</code></pre></li></ul><h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><ul><li>主键：primary key </li><li>非空：nut null</li><li>默认：default</li><li>外键：foreign key</li></ul><h2 id="使用桌面工具连数据库"><a href="#使用桌面工具连数据库" class="headerlink" title="使用桌面工具连数据库"></a>使用桌面工具连数据库</h2><ul><li>工具：Navicat For MySQL</li></ul><h2 id="脚本命令操作"><a href="#脚本命令操作" class="headerlink" title="脚本命令操作"></a>脚本命令操作</h2><h2 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h2><ul><li><p>创建数据库：</p><p>  create database 数据库名 charset=utf-8;</p></li><li><p>删除数据库：</p><p>  drop database 数据库名;</p></li><li><p>切换数据库</p><p>  use 数据库名</p></li><li><p>查看当前选择的数据库</p></li></ul><p>select database();</p><h2 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h2><ul><li><p>查看当前所有表</p><p>  show tables;</p></li><li><p>创建表</p><pre><code>create table students(id int suto_increment primary key,name varchar(10) not null,gender bit default 1,birthday datetime);</code></pre></li><li><p>查看表的结构</p><p>  desc 表名;</p></li><li><p>查看建表语句</p><p>  show create table 表名;</p></li><li><p>查询</p><p> select * from 表名;</p></li><li><p>插入数据</p><pre><code>// 全值插入insert into 表名 values(值1，值2，...);// 直插入某个键值insert into 表名(组码名称1，组码名称2,..) values(值1，值2，...);//  多对象数据插入  insert into 表名(组码名称1，组码名称2,..) values(值1，值2，...),values(值1，值2，...),values(值1，值2，...);</code></pre></li><li><p>修改数据</p><pre><code>update table 表名 set 组码1=键值 where 条件;</code></pre></li><li><p>增加组码</p><pre><code>alter table 表名 add 组码 数据类型 约束条件;</code></pre></li></ul><ul><li><p>删除组码</p><pre><code>alter table 表名 drop 组码;</code></pre></li></ul><h2 id="数据库备份和恢复"><a href="#数据库备份和恢复" class="headerlink" title="数据库备份和恢复"></a>数据库备份和恢复</h2><ul><li><p>备份</p><pre><code>mysqldump -uroot -p 数据库名 &gt; ~/备份ming&apos;cheng</code></pre></li></ul><h2 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h2><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><ul><li><p>基本语法</p><pre><code>select * from 表名;</code></pre></li><li><p>from关键字后面写表名表示的数据来源于这张表</p></li><li>select后面写表中的字段名，如果是*表示在结果中显示所有字段</li><li>在select后面的字段名，可以使用as为字段起别名，此别名出现在结果集中</li><li>如果要查询多个字段，之间使用逗号隔开</li></ul><h4 id="消除重复的行"><a href="#消除重复的行" class="headerlink" title="消除重复的行"></a>消除重复的行</h4><ul><li><p>在select后面字段名前面使用distinct可以消除重复的行</p><pre><code>select distinct gender from students;</code></pre></li></ul><h4 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h4><ul><li>使用where条件语句对表中数据筛选，结果为true的行会出现在结果集中</li><li><p>语法：</p><pre><code>select * from 表名 where 条件;</code></pre></li></ul><h4 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h4><ul><li>等于：=</li><li>大于：&gt;</li><li>大于等于：&gt;=</li><li>小于：&lt;</li><li>小于等于：&lt;=</li><li>不等于：!= 或者 &lt;&gt;</li><li><p>例子：</p><pre><code># 查询编号大于3的学生select * from students where id &gt; 3;# 查询编号不大于4的学生select * from subjects where id&lt;=4;</code></pre></li></ul><h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><ul><li>and </li><li>or </li><li>not</li><li><p>例子：</p><pre><code># 查询编号大于3的女同学</code></pre></li></ul><h4 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h4><ul><li>快速得到统计数据，5个聚合函数</li><li><p>count(<em>) 表示统计总行数，括号内写</em>或列名，结果相同</p><pre><code># 查询学生总数select count(*) from students；</code></pre></li><li><p>max(字段名) 表示此列的最大值</p><pre><code># 查询女生的编号的最大值select max(id) from students where gender =0;</code></pre></li><li><p>min(字段名) 与 max()相反</p><pre><code># 查询未删除的学生的最小编号select min(id) from students where isdelete=0;</code></pre></li></ul><h4 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h4><ul><li>按照字段分组，表示此字段相同的数据会被收到一个组中</li><li>分组后只查询出相同的数据列，对于差异的数据列无法出现在结果集中</li><li>可对分组后的数据进行统计，做聚合运算</li><li><p>语法：</p><pre><code>select 列1, 列2，聚合... from 表名 group by 列1, 列2，列3...;</code></pre></li><li><p>例子：</p><pre><code># 查询男女生总数select gender as 性别,count(*)from students group by gender;# 查询个城市总人数select hometoen as 家乡,count(*)from studentsgroup by hometown;</code></pre></li><li><p>分组后的数据筛选</p><ul><li><p>语法：</p><pre><code>select 列1,列2,聚合... from 表名group by 列1,列2,列3...having 列1,...聚合...</code></pre></li><li><p>having 后面的条件运算符与where的相同</p></li><li><p>例子：</p><pre><code>方案一select count(*)from studentswhere gender=1;-----------------------------------方案二：select gender as 性别,count(*)from studentsgroup by genderhaving gender=1;</code></pre></li></ul></li></ul><h4 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h4><h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><h4 id="存储关系"><a href="#存储关系" class="headerlink" title="存储关系"></a>存储关系</h4><ul><li>主键 </li><li>外键 </li></ul><h4 id="建立关系表"><a href="#建立关系表" class="headerlink" title="建立关系表"></a>建立关系表</h4><ul><li>自关联</li><li>外关联</li></ul><h4 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h4><ul><li>inner join</li><li>outer join</li></ul><h4 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h4><ul><li>begin：开启事务</li><li>commit：提交事务</li><li>rollback：回滚事务</li><li>使用事务的情况<ul><li>insert</li><li>update</li><li>delete</li></ul></li></ul><h4 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h4><h5 id="索引的介绍"><a href="#索引的介绍" class="headerlink" title="索引的介绍"></a>索引的介绍</h5><ul><li>为了快速找到数据</li><li>数据默认按照某种索引来存储：默认按照主键索引来存储</li><li>索引的创建会造成物理上的开销</li></ul><h5 id="选择列的数据类型"><a href="#选择列的数据类型" class="headerlink" title="选择列的数据类型"></a>选择列的数据类型</h5><h5 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h5><ul><li><p>索引分类</p><ul><li>单列索引：索引只包含一个列，一个表中可以有多个单列索引</li><li>组合索引：索引包含多个列</li></ul></li><li><p>操作：</p><ul><li><p>查看索引：</p><pre><code>SHOW INDEX FROM table_name;</code></pre></li><li><p>创建索引：</p><pre><code>CREATE INDEX indexName ON mytable(username(length));</code></pre></li><li><p>删除索引：</p><pre><code>DROP INDEX [indexName] ON myTable;</code></pre></li></ul></li></ul><h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h5><h5 id="性能检测"><a href="#性能检测" class="headerlink" title="性能检测"></a>性能检测</h5><ul><li>set profiles</li></ul><h2 id="Python链接MySQL"><a href="#Python链接MySQL" class="headerlink" title="Python链接MySQL"></a>Python链接MySQL</h2><h4 id="安装模块"><a href="#安装模块" class="headerlink" title="安装模块"></a>安装模块</h4><ul><li><p>安装MySQL模块</p><pre><code>sudo apt-get install python-mysqldb</code></pre></li><li><p>在文件中引入模块</p><pre><code>import MySQLdb</code></pre></li></ul><h4 id="Connect对象"><a href="#Connect对象" class="headerlink" title="Connect对象"></a>Connect对象</h4><ul><li>用于创建数据的连接</li><li>创建对象：调用用connect()方法</li></ul><h4 id="参数化"><a href="#参数化" class="headerlink" title="参数化"></a>参数化</h4><h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h4>]]></content>
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>我的第一篇文章</title>
      <link href="/2018/03/10/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/"/>
      <content type="html"><![CDATA[<h3 id="human-is-an-interested-animal"><a href="#human-is-an-interested-animal" class="headerlink" title="human is an interested animal"></a>human is an interested animal</h3>]]></content>
      
      
        <tags>
            
            <tag> 杂碎 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hello World</title>
      <link href="/2018/03/10/hello-world/"/>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
    </entry>
    
  
  
</search>
